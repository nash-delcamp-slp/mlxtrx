% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db.R
\name{db_create_tables}
\alias{db_create_tables}
\title{Create database tables for Monolix run tracking}
\usage{
db_create_tables(db_conn = default_db_conn())
}
\arguments{
\item{db_conn}{A database connection object inheriting from \code{DBIObject}.
Defaults to a connection created by \code{default_db_conn()}.}
}
\value{
NULL (invisible). Called for side effects.
}
\description{
Creates the required database tables for storing Monolix job information,
input files, and output files. Tables are created only if they don't
already exist.
}
\details{
This function creates three tables with the following schema:

\strong{mono_jobs}:
\itemize{
\item \code{job_id} (INTEGER PRIMARY KEY): Unique job identifier
\item \code{path} (TEXT): Path to the Monolix project file
\item \code{data_file} (TEXT): Path to the data file
\item \code{model_file} (TEXT): Path to the model file
\item \code{cmd} (TEXT): Command used to submit the job
\item \code{submitted_at} (TIMESTAMP): Job submission timestamp
\item \code{completed_at} (TIMESTAMP): Job completion timestamp (NULL until completed)
}

\strong{input_files}:
\itemize{
\item \code{job_id} (INTEGER): Foreign key to mono_jobs
\item \code{file_path} (TEXT): Path to the input file
\item \code{file_timestamp} (TIMESTAMP): File modification timestamp
\item \code{md5_checksum} (TEXT): MD5 hash of the file
\item \code{recorded_at} (TIMESTAMP): When the record was created
}

\strong{output_files}:
\itemize{
\item \code{job_id} (INTEGER): Foreign key to mono_jobs
\item \code{file_path} (TEXT): Path to the output file
\item \code{file_timestamp} (TIMESTAMP): File modification timestamp
\item \code{md5_checksum} (TEXT): MD5 hash of the file
\item \code{recorded_at} (TIMESTAMP): When the record was created
}
}
\examples{
\dontrun{
# Create tables with default connection
db_create_tables()

# Create tables with custom connection
conn <- DBI::dbConnect(duckdb::duckdb(), "custom.db")
db_create_tables(conn)
DBI::dbDisconnect(conn)
}

}
\seealso{
\code{\link{default_db_conn}} for creating database connections,
\code{\link{mono}} for submitting jobs that use these tables
}
\keyword{internal}
