% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db.R
\name{db_create_tables}
\alias{db_create_tables}
\title{Create database tables for Monolix/Simulx run tracking}
\usage{
db_create_tables(db_conn = default_db_conn())
}
\arguments{
\item{db_conn}{A database connection object inheriting from \code{DBIObject}.
Defaults to a connection created by \code{default_db_conn()}.}
}
\value{
NULL (invisible). Called for side effects.
}
\description{
Creates the required database tables for storing run information,
files, and their relationships. Tables are created only if they don't
already exist.
}
\details{
This function creates five tables with the following schema:

\strong{run}:
\itemize{
\item \code{run_id} (INTEGER PRIMARY KEY): Auto-generated unique run identifier
\item \code{job_id} (INTEGER): External job ID (may be NULL if extraction fails)
\item \code{project_file_id} (INTEGER): Foreign key to file table for project file
\item \code{data_file_id} (INTEGER): Foreign key to file table for data file
\item \code{model_file_id} (INTEGER): Foreign key to file table for model file
\item \code{thread} (INTEGER): Number of threads used by grid jobs
\item \code{tool} (TEXT): Tool to launch assessment
\item \code{mode} (TEXT): Console mode
\item \code{config} (TEXT): Configuration file path
\item \code{cmd} (TEXT): Command used to submit the job
\item \code{submitted_at} (TIMESTAMP): Job submission timestamp
\item \code{completed_at} (TIMESTAMP): Job completion timestamp (NULL until completed)
}

\strong{file}:
\itemize{
\item \code{id} (INTEGER PRIMARY KEY): Auto-generated unique file identifier
\item \code{path} (TEXT): Full path to the file
\item \code{name} (TEXT): File name (basename)
}

\strong{run_file}:
\itemize{
\item \code{run_id} (INTEGER): Foreign key to run table
\item \code{file_id} (INTEGER): Foreign key to file table
\item \code{io_type} (TEXT): Type of file relation (project, input, output)
\item \code{timestamp} (TIMESTAMP): File modification timestamp
\item \code{md5_checksum} (TEXT): MD5 hash of the file
\item \code{recorded_at} (TIMESTAMP): When the record was created
}

\strong{run_summary}:
\itemize{
\item \code{run_id} (INTEGER PRIMARY KEY): Foreign key to run table
\item \code{exploratory_iterations} (INTEGER): Number of exploratory phase iterations
\item \code{smoothing_iterations} (INTEGER): Number of smoothing phase iterations
\item \code{fisher_matrix_estimation} (BOOLEAN): Whether Fisher matrix estimation was successful
\item \code{eigenvalue_min} (INTEGER): Minimum eigenvalue from Fisher matrix
\item \code{eigenvalue_max} (INTEGER): Maximum eigenvalue from Fisher matrix
\item \code{ofv} (REAL): -2 x log-likelihood (Objective Function Value)
\item \code{aic} (REAL): Akaike Information Criteria
\item \code{bicc} (REAL): Corrected Bayesian Information Criteria
\item \code{bic} (REAL): Bayesian Information Criteria
\item \code{n_individuals} (INTEGER): Total number of individuals
\item \code{n_doses} (INTEGER): Total number of doses
\item \code{summary_extracted_at} (TIMESTAMP): When summary data was extracted
}

\strong{run_observations}:
\itemize{
\item \code{run_id} (INTEGER): Foreign key to run table
\item \code{obs_type} (TEXT): Observation type identifier (e.g., "Y", "CONC", "obsid 1_Cp")
\item \code{n_observations} (INTEGER): Number of observations for this type
}
}
\keyword{internal}
